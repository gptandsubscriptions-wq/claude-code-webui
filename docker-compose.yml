services:
  claude-code-webui:
    build: .
    container_name: claude-code-webui
    restart: unless-stopped
    ports:
      - "3420:3420"
    privileged: true
    volumes:
      # Mount home directory with SAME PATH inside container for consistency
      # This makes paths work identically in browser and CLI sessions
      - /home/saunalserver:/home/saunalserver
      # Mount Claude Code config for authentication (to expected location)
      - ~/.claude:/home/saunalserver/.claude
    environment:
      - PORT=3420
      - HOME=/home/saunalserver
      - USER=saunalserver
    networks:
      - claude-network

networks:
  claude-network:
    driver: bridge
